<!DOCTYPE html><html><head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
          @font-face {
              font-family: 'Noto Sans';
              font-style: normal;
              font-weight: 400;
              src: local('Noto Sans'), local('NotoSans'), url(/images/NotoSans.ttf) format('truetype');
          }
          @font-face {
              font-family: 'Noto Sans';
              font-style: normal;
              font-weight: 700;
              src: local('Noto Sans Bold'), local('NotoSans-Bold'), url(/images/NotoSansBold.ttf) format('truetype');
          }
        </style>
        <script type="text/javascript">
            window.addEventListener("message", function(event) {
              if (event.source != window)
                return;
              if (event.data.type && (event.data.type === 'FromExtension')) {
                window.setExtensionLinks();
              }
            }, false);
        </script>
        <script type="text/javascript" src="/vendor.js"></script>
        <link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/mflpmlediakefinapghmabapjeippfdi">
        <link rel="icon" type="image/png" href="/images/favicon.png">
        <link rel="stylesheet" href="/page.css">
         <script type="text/javascript">
          var _paq = _paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setCookieDomain", "*.kitspace.org"]);
          _paq.push(["setDomains", ["*.kitspace.org"]]);
          _paq.push(['trackPageView']);
          _paq.push(['enableLinkTracking']);
          (function() {
            var u="https://matomo.kitspace.org/";
            _paq.push(['setTrackerUrl', u+'piwik.php']);
            _paq.push(['setSiteId', '1']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
          })();
        </script>
    
       <title data-react-helmet="true">PIS on Kitspace</title>
       <meta data-react-helmet="true" name="description" content="Plant Irrigation System with NodeMCU_Amica"><meta data-react-helmet="true" itemprop="name" content="PIS on Kitspace"><meta data-react-helmet="true" itemprop="description" content="Plant Irrigation System with NodeMCU_Amica - Shared on Kitspace - Kitspace is a place to share ready to order electronics designs. You can order the right components for this project with a few clicks."><meta data-react-helmet="true" itemprop="image" content="https://kitspace.org/boards/github.com/nerdyscout/NodeMCU/PIS/images/top-with-background.png"><meta data-react-helmet="true" property="og:type" content="website"><meta data-react-helmet="true" property="og:title" content="PIS on Kitspace"><meta data-react-helmet="true" property="og:description" content="Plant Irrigation System with NodeMCU_Amica - Shared on Kitspace - Kitspace is a place to share ready to order electronics designs. You can order the right components for this project with a few clicks."><meta data-react-helmet="true" property="og:image" content="https://kitspace.org/boards/github.com/nerdyscout/NodeMCU/PIS/images/top-with-background.png"><meta data-react-helmet="true" property="og:image:width" content="1000"><meta data-react-helmet="true" property="og:image:height" content="524"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="twitter:title" content="PIS on Kitspace"><meta data-react-helmet="true" name="twitter:description" content="Plant Irrigation System with NodeMCU_Amica - Shared on Kitspace - Kitspace is a place to share ready to order electronics designs. You can order the right components for this project with a few clicks."><meta data-react-helmet="true" name="twitter:image" content="https://kitspace.org/boards/github.com/nerdyscout/NodeMCU/PIS/images/top-with-background.png">
       
    </head>
    <body>
        <div id="content"><div data-reactroot="" data-reactid="1" data-react-checksum="-1891604168"><!-- react-empty: 2 --><div class="page" data-reactid="3"><div class="titleBar" data-reactid="4"><div class="logoContainer" data-reactid="5"><div class="ui inverted pointing secondary menu" data-reactid="6"><a href="/" data-reactid="7"><img class="ui image logoImg" src="/images/logo.svg" data-reactid="8"></a><a href="/" class="active item" data-reactid="9">Projects</a><a href="/bom-builder" class="item" data-reactid="10">BOM Builder</a><a href="/1-click-bom" class="item" data-reactid="11">1-click BOM</a></div></div><div class="rightButtonsContainer" data-reactid="12"><div class="ui inverted pointing secondary socialMenu menu" data-reactid="13"><a href="https://riot.im/app/#/room/#kitspace:matrix.org" class="item" data-reactid="14"><i aria-hidden="true" class="chat icon" data-reactid="15"></i><!-- react-text: 16 -->Chat<!-- /react-text --></a><a href="https://twitter.com/kitspaceorg" class="item" data-reactid="17"><i aria-hidden="true" class="twitter icon" data-reactid="18"></i><!-- react-text: 19 -->Twitter<!-- /react-text --></a><a href="https://github.com/kitspace" class="item" data-reactid="20"><i aria-hidden="true" class="github icon" data-reactid="21"></i><!-- react-text: 22 -->GitHub<!-- /react-text --></a><a href="https://opencollective.com/kitspace" class="item" data-reactid="23"><i aria-hidden="true" class="heart icon" data-reactid="24"></i><!-- react-text: 25 -->Donate<!-- /react-text --></a><div class="item" data-reactid="26"><a href="/submit" class="ui green icon left labeled button" data-reactid="27"><i aria-hidden="true" class="plus icon" data-reactid="28"></i><!-- react-text: 29 -->Add a project<!-- /react-text --></a></div></div></div></div><div class="pageContainer" data-reactid="30"><img style="display:none;" src="/images/flags.png" data-reactid="31"><div class="infoBar" data-reactid="32"><div class="infoBarInner" data-reactid="33"><div class="infoBarTitle" data-reactid="34"><div class="titleText" data-reactid="35">PIS</div><div class="subtitleText" data-reactid="36"><a href="https://github.com/nerdyscout/NodeMCU" data-reactid="37">github.com / nerdyscout</a><span data-reactid="38"><!-- react-text: 39 -->  |  <!-- /react-text --><a href="https://nerdyscout.github.io/NodeMCU/PIS" data-reactid="40">homepage</a></span></div></div><div class="infoBarTitle" data-reactid="41"><div class="infoBarSummary" data-reactid="42">Plant Irrigation System with NodeMCU_Amica</div></div></div></div><div class="boardShowcaseContainer" data-reactid="43"><div class="toggleBoardView responsiveTabs" data-reactid="44"><button disabled="" class="circuitToggleBtn circuitFrontBtn" data-reactid="45">Front</button><button class="circuitToggleBtn circuitBackBtn" data-reactid="46">Back</button></div><a class="traceSpaceLink" href="https://tracespace.io/view/?boardUrl=https://kitspace.org/boards/github.com/nerdyscout/NodeMCU/PIS/PIS-92ecdf1-gerbers.zip" target="_blank" title="Click to inspect the Gerber files on Tracespace" data-reactid="47"><div class="boardShowcase" data-reactid="48"><div class="img" data-reactid="49"></div><div class="overlay" data-reactid="50"><div class="shadow" data-reactid="51"></div><p data-reactid="52"><svg id="traceSpaceLogo" viewBox="0 0 36 36" height="18" style="padding-left:10px;" data-reactid="53"><path d="M22 14H36V0H16L0 16V36H14V22L22 14Z M36 28C36 32.4183 32.4183 36 28 36C23.5817 36 20 32.4183 20 28C20 23.5817 23.5817 20 28 20C32.4183 20 36 23.5817 36 28Z" data-reactid="54"></path></svg></p></div></div></a></div><div class="PcbMenu" data-reactid="55"><div class="ui borderless compact menu" data-reactid="56"><div class="PcbMenu__container" data-reactid="57"><div class="PcbMenu__group PcbMenu__download" data-reactid="58"><a href="PIS-92ecdf1-gerbers.zip" class="item" data-reactid="59"><i aria-hidden="true" class="download big icon" data-reactid="60"></i><!-- react-text: 61 -->Download Gerber Files<!-- /react-text --></a></div><div class="PcbMenu__group" data-reactid="62"><div class="PcbMenu__sub-title" data-reactid="63"><div class="item" data-reactid="64"><h4 data-reactid="65">Order PCBs:</h4></div></div><div class="PcbMenu__links-container" data-reactid="66"><a href="https://aisler.net/p/new?url=https://kitspace.org/boards/github.com/nerdyscout/NodeMCU/PIS/PIS-92ecdf1-gerbers.zip&amp;ref=kitspace" class="item PcbMenu__link" data-reactid="67"><img src="/images/aisler.png" data-reactid="68"><div class="ui floating label" data-reactid="69"><i class="de flag" data-reactid="70"></i></div></a><a href="https://www.pcbway.com/QuickOrderOnline.aspx?fileurl=https://kitspace.org/boards/github.com/nerdyscout/NodeMCU/PIS/PIS-92ecdf1-gerbers.zip&amp;from=kitspace" class="item PcbMenu__link" data-reactid="71"><img src="/images/pcbway.png" data-reactid="72"><div class="ui floating label" data-reactid="73"><i class="cn flag" data-reactid="74"></i></div></a><a href="https://www.royalcircuits.com/" class="item PcbMenu__link" data-reactid="75"><img src="/images/royal_circuits.png" data-reactid="76"><div class="ui floating label" data-reactid="77"><i class="us flag" data-reactid="78"></i></div></a><a href="https://oshpark.com/import?url=https://kitspace.org/boards/github.com/nerdyscout/NodeMCU/PIS/PIS-92ecdf1-gerbers.zip" class="item PcbMenu__link" data-reactid="79"><img src="/images/oshpark.png" data-reactid="80"><div class="ui floating label" data-reactid="81"><i class="us flag" data-reactid="82"></i></div></a></div></div><div class="PcbMenu__group PcbMenu__compare" data-reactid="83"><div class="PcbMenu__sub-title" data-reactid="84"><div class="item" data-reactid="85"><h4 data-reactid="86">Compare PCB Prices:</h4></div></div><div class="PcbMenu__links-container" data-reactid="87"><a href="https://pcbshopper.com/?Width=27&amp;Height=49&amp;Units=mm&amp;Layers=2&amp;Quantity=1&amp;GetPrices" class="item" data-reactid="88"><img src="/images/pcbshopper.png" data-reactid="89"><div class="ui floating label" data-reactid="90"></div></a></div></div></div></div></div><div class="BuyParts" data-reactid="91"><h3 class="ui top attached center aligned header" data-reactid="92"><i class="icon-basket-3" data-reactid="93"></i><!-- react-text: 94 -->Buy Parts<!-- /react-text --></h3><div data-reactid="95"></div><div class="ui attached center aligned segment AdjustQuantity" data-reactid="96"><!-- react-text: 97 -->Adjust quantity:<!-- /react-text --><i style="margin:5px;margin-top:0;" aria-hidden="true" class="delete icon" data-reactid="98"></i><div style="width:80px;" class="ui mini input" data-reactid="99"><input type="number" min="1" value="1" data-reactid="100"></div><i style="margin:10px;margin-top:0;" aria-hidden="true" class="plus icon" data-reactid="101"></i><div style="width:80px;" class="ui mini input" data-reactid="102"><input type="number" step="10" min="0" value="0" data-reactid="103"></div><span class="notSelectable" style="margin-left:5px;" data-reactid="104">%</span></div><div class="ui attached segment buttonSegment" data-reactid="105"></div><div class="Bom" data-reactid="106"><div data-reactid="107"><div style="overflow-x:auto;overflow-y:hidden;" data-reactid="108"><div style="padding-top:1px;width:auto;" data-reactid="109">&nbsp;</div></div><div style="overflow:auto;overflow-y:hidden;" data-reactid="110"><table class="ui small celled selectable single line unstackable table TsvTable collapsed" data-reactid="111"><thead class="" data-reactid="112"><tr class="" data-reactid="113"><th class="" data-reactid="114">References</th><th class="" data-reactid="115">Qty</th><th class="" data-reactid="116">Description</th><th class="" data-reactid="117">Manufacturer</th><th class="" data-reactid="118">MPN</th></tr></thead><tbody data-reactid="119"><tr class="" data-reactid="120"><td class="marked green" data-reactid="121">D1</td><td class="" data-reactid="122">1</td><td class="" data-reactid="123">1N4148 Diode_THT:D_DO-35_SOD27_P7.62mm_Horizontal</td><td class="" data-reactid="124"></td><td class="" data-reactid="125"></td></tr><tr class="" data-reactid="126"><td class="marked green" data-reactid="127">D2</td><td class="" data-reactid="128">1</td><td class="" data-reactid="129">LED LED_THT:LED_D5.0mm</td><td class="" data-reactid="130"></td><td class="" data-reactid="131"></td></tr><tr class="" data-reactid="132"><td class="marked purple" data-reactid="133">J1</td><td class="" data-reactid="134">1</td><td class="" data-reactid="135">Capacitive Sensor Connector_PinHeader_2.54mm:PinHeader_1x03_P2.54mm_Vertical</td><td class="" data-reactid="136"></td><td class="" data-reactid="137"></td></tr><tr class="" data-reactid="138"><td class="marked purple" data-reactid="139">J2</td><td class="" data-reactid="140">1</td><td class="" data-reactid="141">Conn_01x03 Connector_PinHeader_2.54mm:PinHeader_1x03_P2.54mm_Vertical</td><td class="" data-reactid="142"></td><td class="" data-reactid="143"></td></tr><tr class="" data-reactid="144"><td class="marked purple" data-reactid="145">J4</td><td class="" data-reactid="146">1</td><td class="" data-reactid="147">Screw_Terminal_01x04 TerminalBlock_TE-Connectivity:TerminalBlock_TE_282834-4_1x04_P2.54mm_Horizontal</td><td class="" data-reactid="148"></td><td class="" data-reactid="149"></td></tr><tr class="" data-reactid="150"><td class="marked purple" data-reactid="151">J5</td><td class="" data-reactid="152">1</td><td class="" data-reactid="153">Resistive Sensor Connector_PinHeader_2.54mm:PinHeader_1x04_P2.54mm_Vertical</td><td class="" data-reactid="154"></td><td class="" data-reactid="155"></td></tr><tr class="" data-reactid="156"><td class="marked purple" data-reactid="157">K1</td><td class="" data-reactid="158">1</td><td class="" data-reactid="159">G5V-1 Relay_THT:Relay_SPDT_Omron_G5V-1</td><td class="" data-reactid="160"></td><td class="" data-reactid="161"></td></tr></tbody></table></div></div><div style="padding-left:1px;padding-right:1px;" data-reactid="162"><table style="border-top:0;cursor:pointer;" class="ui celled single line unstackable bottom attached table expandBomTable" data-reactid="163"><tbody data-reactid="164"><tr class="expandSummary" data-reactid="165"><td class="center aligned" data-reactid="166">... 6 more lines</td></tr><tr style="border-top:0;" data-reactid="167"><td class="center aligned" data-reactid="168"><i aria-hidden="true" class="eye icon" data-reactid="169"></i><!-- react-text: 170 -->View All<!-- /react-text --></td></tr></tbody></table></div></div><span data-reactid="171"><form target="_blank" id="DigikeyForm" method="POST" action="https://www.digikey.com/classic/ordering/fastadd.aspx?WT.z_cid=ref_kitnic" data-reactid="172"></form><form target="_blank" id="FarnellForm" method="GET" action="https://export.farnell.com/jsp/extlink.jsp" data-reactid="173"><input type="hidden" name="CMP" value="ref_kitnic" data-reactid="174"><input type="hidden" name="action" value="buy" data-reactid="175"><input type="hidden" name="product" value="" data-reactid="176"></form><form target="_blank" id="NewarkForm" method="GET" action="https://www.newark.com/jsp/extlink.jsp" data-reactid="177"><input type="hidden" name="CMP" value="ref_kitnic" data-reactid="178"><input type="hidden" name="action" value="buy" data-reactid="179"><input type="hidden" name="product" value="" data-reactid="180"></form></span></div><div class="readme" data-reactid="181"><h1 id="user-content-nodemcu_pis" class="deep-link" data-reactid="182"><a href="#nodemcu_pis" name="nodemcu_pis" data-reactid="183">NodeMCU_PIS</a></h1><p data-reactid="184">Plant Irrigation Shield for the NodeMCU_Amica.</p><h2 id="user-content-schematic" class="deep-link" data-reactid="185"><a href="#schematic" name="schematic" data-reactid="186">Schematic</a></h2><p data-reactid="187"><a href="https://github.com/nerdyscout/NodeMCU/blob/master/PIS.pdf" data-reactid="188"><img src="https://raw.githubusercontent.com/nerdyscout/NodeMCU/master/PIS.svg" data-reactid="189"></a></p><h2 id="user-content-documentation" class="deep-link" data-reactid="190"><a href="#documentation" name="documentation" data-reactid="191">Documentation</a></h2><p data-reactid="192">This PCB can be assembled in two variants with complete independent functions.</p><h3 id="user-content-variant-plant-irrigation-system" class="deep-link" data-reactid="193"><a href="#variant-plant-irrigation-system" name="variant-plant-irrigation-system" data-reactid="194">Variant: Plant Irrigation System</a></h3><h4 id="user-content-assembling" class="deep-link" data-reactid="195"><a href="#assembling" name="assembling" data-reactid="196">Assembling</a></h4><p data-reactid="197"><img src="https://raw.githubusercontent.com/nerdyscout/NodeMCU/master/IMG_20200221_150840.jpg" width="250" data-reactid="198"><!-- react-text: 199 --> <!-- /react-text --><img src="https://raw.githubusercontent.com/nerdyscout/NodeMCU/master/IMG_20200221_150518.jpg" width="250" data-reactid="200"></p><ul data-reactid="201"><li data-reactid="202"><!-- react-text: 203 -->Assemble all parts according <!-- /react-text --><a href="https://github.com/nerdyscout/NodeMCU/blob/master/PIS_bom.csv" data-reactid="204">BOM</a><ul data-reactid="205"><li data-reactid="206">there are some slight more variants depending if you want to use an capacetive or resestive soil moisture sensor</li><li data-reactid="207">the status LED is optional</li><li data-reactid="208">the pullup/pulldown resistors should only be placed if needed</li><li data-reactid="209">leave JP1 open</li></ul></li></ul><h4 id="user-content-software" class="deep-link" data-reactid="210"><a href="#software" name="software" data-reactid="211">Software</a></h4><p data-reactid="212"><!-- react-text: 213 -->you could run <!-- /react-text --><a href="https://github.com/arendst/Tasmota" data-reactid="214">Tasmota</a><!-- react-text: 215 --> and set a few configurations<!-- /react-text --></p><img src="https://raw.githubusercontent.com/nerdyscout/NodeMCU/master/tasmota_config_pis.png" width="250" data-reactid="216"><p data-reactid="217">and set some extra parameter in console</p><div class="highlight" data-reactid="218"><pre class="editor editor-colors" data-reactid="219"><div class="line" data-reactid="220"><span class="text" data-reactid="221"><span data-reactid="222">#&nbsp;set&nbsp;nominal&nbsp;value</span></span></div><div class="line" data-reactid="223"><span class="text" data-reactid="224"><span data-reactid="225">mem1&nbsp;750</span></span></div><div class="line" data-reactid="226"><span class="text" data-reactid="227"><span data-reactid="228">&nbsp;</span></span></div><div class="line" data-reactid="229"><span class="text" data-reactid="230"><span data-reactid="231">#&nbsp;turn&nbsp;pump&nbsp;on/off&nbsp;depending&nbsp;mem&nbsp;value</span></span></div><div class="line" data-reactid="232"><span class="text" data-reactid="233"><span data-reactid="234">Rule1&nbsp;on&nbsp;analog#a0&gt;%mem1%&nbsp;do&nbsp;power1&nbsp;1&nbsp;endon&nbsp;on&nbsp;analog#a0&lt;%mem1%&nbsp;do&nbsp;power1&nbsp;0&nbsp;endon&nbsp;</span></span></div><div class="line" data-reactid="235"><span class="text" data-reactid="236"><span data-reactid="237">&nbsp;</span></span></div><div class="line" data-reactid="238"><span class="text" data-reactid="239"><span data-reactid="240">#&nbsp;turn&nbsp;rule1&nbsp;off&nbsp;when&nbsp;water&nbsp;empty&nbsp;//&nbsp;todo:&nbsp;turn&nbsp;status&nbsp;LED&nbsp;on</span></span></div><div class="line" data-reactid="241"><span class="text" data-reactid="242"><span data-reactid="243">Rule2&nbsp;on&nbsp;Power2#State=0&nbsp;do&nbsp;Rule1&nbsp;1&nbsp;endon&nbsp;on&nbsp;Power2#State=1&nbsp;do&nbsp;Backlog&nbsp;Rule1&nbsp;0;&nbsp;Power1&nbsp;0&nbsp;endon</span></span></div><div class="line" data-reactid="244"><span class="text" data-reactid="245"><span data-reactid="246">&nbsp;</span></span></div><div class="line" data-reactid="247"><span class="text" data-reactid="248"><span data-reactid="249">Rule1&nbsp;on</span></span></div><div class="line" data-reactid="250"><span class="text" data-reactid="251"><span data-reactid="252">Rule2&nbsp;on</span></span></div></pre></div><p data-reactid="253">Changing mem1 value (can also be done via MQTT) results in new nominal value, every plant may need other value depending on size, soil, sunlight, ... so you need to play a bit to find a good value.</p><h3 id="user-content-variant-powerfull-infrared-span" class="deep-link" data-reactid="254"><a href="#variant-powerfull-infrared-span" name="variant-powerfull-infrared-span" data-reactid="255">Variant: Powerfull Infrared Span</a></h3><p data-reactid="256">this is an MQTT-IR Bridge</p><h4 id="user-content-assembling-1" class="deep-link" data-reactid="257"><a href="#assembling-1" name="assembling-1" data-reactid="258">Assembling</a></h4><ul data-reactid="259"><li data-reactid="260"><!-- react-text: 261 -->Assemble all parts according <!-- /react-text --><a href="https://github.com/nerdyscout/NodeMCU/blob/master/PIS_bom.csv" data-reactid="262">BOM</a><ul data-reactid="263"><li data-reactid="264">make R4 fit to your LED, it might be even 0Ohm</li><li data-reactid="265">close JP1</li></ul></li></ul><h4 id="user-content-software-1" class="deep-link" data-reactid="266"><a href="#software-1" name="software-1" data-reactid="267">Software</a></h4><p data-reactid="268"><!-- react-text: 269 -->Just use <!-- /react-text --><a href="https://github.com/arendst/Tasmota" data-reactid="270">Tasmota</a><!-- react-text: 271 --> and todo: further description<!-- /react-text --></p></div></div></div></div></div>
        <script type="text/javascript" src="app.js"></script>
    

</body></html>